apply plugin: 'java'
repositories { mavenCentral() }
repositories { jcenter() }
dependencies { 
    compile 'org.apache.tomcat.embed:tomcat-embed-core:8.5.23',
            'org.apache.tomcat.embed:tomcat-embed-jasper:8.5.23',
            'org.apache.tomcat:tomcat-jasper:8.5.23',
            'org.eclipse.jetty:jetty-server:9.4.3.v20170317',
            'org.eclipse.jetty:jetty-servlet:9.4.3.v20170317'
}
jar {
    manifest { attributes 'Main-Class': 'JettyServer' }
    from(configurations.compile.collect { it.isDirectory() ? it : zipTree(it) })
}